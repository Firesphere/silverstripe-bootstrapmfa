!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="./client/src/bundles/bundle-cms.js")}({"./client/lang/src/en.json":function(e,t){e.exports={"MultiFactorAuthentication.FIND_OUT_MORE":"Find out more","MultiFactorAuthentication.TITLE":"Add extra security to your account","MultiFactorAuthentication.HOW_IT_WORKS":"How it works","MultiFactorAuthentication.EXTRA_LAYER_IMAGE_ALT":"Shields indicating additional protection","MultiFactorAuthentication.EXTRA_LAYER_TITLE":"Extra layer of protection","MultiFactorAuthentication.EXTRA_LAYER_DESCRIPTION":"Every time you log into your account, you'll need your password and an additional form of verification.","MultiFactorAuthentication.UNIQUE_IMAGE_ALT":"Person with tick indicating uniqueness","MultiFactorAuthentication.UNIQUE_TITLE":"Unique to you","MultiFactorAuthentication.UNIQUE_DESCRIPTION":"This verification is only available to you. Even if someone gets your password, they will not be able to access your account.","MultiFactorAuthentication.GET_STARTED":"Get started","MultiFactorAuthentication.SETUP_LATER":"Setup later","MultiFactorAuthentication.REGISTERED":"Registered","MultiFactorAuthentication.ADD_ANOTHER_METHOD":"Add another MFA method","MultiFactorAuthentication.ADD_FIRST_METHOD":"Add an MFA method","MultiFactorAuthentication.SELECT_METHOD":"Select a verification method","MultiFactorAuthentication.SETUP_COMPLETE_TITLE":"Multi-factor authentication is now set up","MultiFactorAuthentication.ACCOUNT_RESET_TITLE":"Help user reset account","MultiFactorAuthentication.ACCOUNT_RESET_DESCRIPTION":"Ensure that the person requesting a reset is the real person associated with this account before proceeding. An email will be sent to the member's address with a link to reset both their password and multi-factor authentication methods.","MultiFactorAuthentication.ACCOUNT_RESET_ACTION":"Send account reset email","MultiFactorAuthentication.ACCOUNT_RESET_SENDING":"Sending...","MultiFactorAuthentication.ACCOUNT_RESET_SENDING_SUCCESS":"An email has been sent.","MultiFactorAuthentication.ACCOUNT_RESET_SENDING_FAILURE":"We were unable to send an email, please try again later."}},"./client/src/boot/cms/index.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n("./client/src/boot/cms/registerComponents.js"),i=o(r),a=n("./client/src/boot/cms/registerReducers.js"),l=o(a);window.document.addEventListener("DOMContentLoaded",function(){(0,i.default)(),(0,l.default)()})},"./client/src/boot/cms/registerComponents.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=o(r),a=n("./client/src/boot/registerComponents.js"),l=o(a),s=n("./client/src/components/Register.js"),c=o(s),u=n("./client/src/components/FormField/RegisteredMFAMethodListField/RegisteredMFAMethodListField.js"),d=o(u);t.default=function(){(0,l.default)(),i.default.component.registerMany({MFARegister:c.default,RegisteredMFAMethodListField:d.default})}},"./client/src/boot/cms/registerReducers.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=o(r),a=n("./client/src/state/mfaRegister/reducer.js"),l=o(a);t.default=function(){i.default.reducer.register("mfaRegister",l.default)}},"./client/src/boot/registerComponents.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./client/src/components/BackupCodes/Register.js"),i=o(r),a=n("./client/src/components/BackupCodes/Verify.js"),l=o(a),s=n("./client/src/components/BasicMath/Register.js"),c=o(s),u=n("./client/src/components/BasicMath/Login.js"),d=o(u),f=n(2),p=o(f);t.default=function(){p.default.component.registerMany({BackupCodeRegister:i.default,BackupCodeVerify:l.default,BasicMathRegister:c.default,BasicMathLogin:d.default})}},"./client/src/bundles/bundle-cms.js":function(e,t,n){"use strict";n("./client/src/legacy/index.js"),n("./client/src/boot/cms/index.js")},"./client/src/components/BackupCodes/Register.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),c=o(s),u=n(1),d=o(u),f=n("./node_modules/printd/index.js"),p=o(f),h=n("./node_modules/react-copy-to-clipboard/lib/index.js"),m=n("./client/src/lib/formatCode.js"),_=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={recentlyCopied:!1},n.printRef=c.default.createRef(),n.copyMessageTimeout=null,n.handlePrint=n.handlePrint.bind(n),n.handleCopy=n.handleCopy.bind(n),n}return a(t,e),l(t,[{key:"getFormattedCodes",value:function(){return this.props.codes.map(function(e){return(0,m.formatCode)(e)})}},{key:"handlePrint",value:function(e){e.preventDefault(),(new p.default).print(this.printRef.current,['body { font-family: "Helvetica Neue", Helvetica, Arial, sans-serif }'])}},{key:"handleCopy",value:function(e){var t=this;e.preventDefault();var n=this.props.copyFeedbackDuration;this.setState({recentlyCopied:!0}),this.copyMessageTimeout&&clearTimeout(this.copyMessageTimeout),this.copyMessageTimeout=setTimeout(function(){t.setState({recentlyCopied:!1})},n)}},{key:"renderCodes",value:function(){return c.default.createElement("div",{ref:this.printRef,className:"mfa-register-backup-codes__code-grid"},this.getFormattedCodes().map(function(e){return c.default.createElement("div",{key:e},e)}))}},{key:"renderDescription",value:function(){var e=window,t=e.ss.i18n,n=this.props.method;return c.default.createElement("p",null,t._t("MFABackupCodesRegister.DESCRIPTION","Recovery codes enable you to log into your account in the event your primary authentication is not available. Each code can only be used once. Store these codes somewhere safe, as they will not be viewable after this leaving this page."),"Â ",c.default.createElement("a",{href:n.supportLink,target:"_blank",rel:"noopener noreferrer"},t._t("MFARegister.HELP","Find out more")))}},{key:"renderPrintAction",value:function(){var e=window,t=e.ss.i18n;return c.default.createElement("a",{href:"#",onClick:this.handlePrint},t._t("MFABackupCodesRegister.PRINT","Print codes"))}},{key:"renderDownloadAction",value:function(){var e=this.props,t=e.codes,n=e.method,o=window,r=o.ss.i18n;return c.default.createElement("a",{download:n.name+".txt",href:"data:application/octet-stream,"+t.join("\n")},r._t("MFABackupCodesRegister.DOWNLOAD","Download"))}},{key:"renderCopyAction",value:function(){var e=this.props.codes,t=this.state.recentlyCopied,n=window,o=n.ss.i18n,r=t?o._t("MFABackupCodesRegister.COPY_RECENT","Copied!"):o._t("MFABackupCodesRegister.COPY","Copy codes");return c.default.createElement(h.CopyToClipboard,{text:e.join("\n")},c.default.createElement("a",{href:"#",className:"mfa-register-backup-codes__copy-to-clipboard",onClick:this.handleCopy},r))}},{key:"render",value:function(){var e=this.props.onCompleteRegistration,t=window,n=t.ss.i18n;return c.default.createElement("div",{className:"mfa-register-backup-codes__container"},this.renderDescription(),this.renderCodes(),c.default.createElement("div",{className:"mfa-register-backup-codes__helper-links"},this.renderPrintAction(),this.renderDownloadAction(),this.renderCopyAction()),c.default.createElement("button",{className:"btn btn-primary",onClick:function(){return e()}},n._t("MFABackupCodesRegister.FINISH","Finish")))}}]),t}(s.Component);_.propTypes={codes:d.default.arrayOf(d.default.string),copyFeedbackDuration:d.default.number},_.defaultProps={copyFeedbackDuration:3e3},t.default=_},"./client/src/components/BackupCodes/Verify.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),c=o(s),u=n(4),d=o(u),f=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:""},n.codeInput=c.default.createRef(),n.handleChange=n.handleChange.bind(n),n.handleCompleteVerification=n.handleCompleteVerification.bind(n),n}return a(t,e),l(t,[{key:"componentDidMount",value:function(){this.codeInput.current&&this.codeInput.current.focus()}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleCompleteVerification",value:function(e){e.preventDefault(),(0,this.props.onCompleteVerification)({code:this.state.value})}},{key:"renderControls",value:function(){var e=this.props.moreOptionsControl,t=window,n=t.ss.i18n;return c.default.createElement("ul",{className:"mfa-action-list"},c.default.createElement("li",{className:"mfa-action-list__item"},c.default.createElement("button",{className:"btn btn-success",disabled:0===this.state.value.length,onClick:this.handleCompleteVerification},n._t("MFABackupCodesVerify.NEXT","Next"))),e&&c.default.createElement("li",{className:"mfa-action-list__item"},e))}},{key:"renderDescription",value:function(){var e=window,t=e.ss.i18n;return c.default.createElement("p",null,t._t("MFABackupCodesVerify.DESCRIPTION","Use one of the recovery codes you received"))}},{key:"renderInput",value:function(){var e=this.props.error,t=window,n=t.ss.i18n,o=n._t("MFABackupCodesVerify.LABEL","Enter recovery code"),r=(0,d.default)("mfa-verify-backup-codes__input-container form-group",{"has-error":!!e});return c.default.createElement("div",{className:r},c.default.createElement("label",{htmlFor:"backup-code",className:"control-label"},o),c.default.createElement("input",{className:"mfa-verify-backup-codes__input form-control",type:"text",placeholder:o,id:"backup-code",ref:this.codeInput,onChange:this.handleChange}),e&&c.default.createElement("div",{className:"help-block"},n._t("MFABackupCodesVerify.ERROR","Invalid recovery code")))}},{key:"render",value:function(){var e=this.props,t=e.graphic,n=e.leadInLabel;return c.default.createElement("form",{className:"mfa-verify-backup-codes__container"},c.default.createElement("div",{className:"mfa-verify-backup-codes__content"},this.renderDescription(),this.renderInput()),c.default.createElement("div",null,c.default.createElement("img",{className:"mfa-verify-backup-codes__image",src:t,alt:n})),this.renderControls())}}]),t}(s.Component);t.default=f},"./client/src/components/BasicMath/Login.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),c=o(s),u=n("./client/src/components/LoadingIndicator.js"),d=o(u),f=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={answer:""},n.handleChange=n.handleChange.bind(n),n}return a(t,e),l(t,[{key:"handleChange",value:function(e){this.setState({answer:e.target.value})}},{key:"renderQuestion",value:function(){return"What's the sum of "+this.props.numbers.join(", ")+" and your secret number?"}},{key:"render",value:function(){var e=this,t=this.props,n=t.onCompleteVerification,o=t.moreOptionsControl,r=t.numbers,i=window,a=i.ss.i18n;return r?c.default.createElement("div",{className:"mfa-register-backup-codes__container"},c.default.createElement("label",{style:{display:"block"},htmlFor:"answer"},this.renderQuestion()),c.default.createElement("input",{id:"answer",type:"text",value:this.state.answer,onChange:this.handleChange}),c.default.createElement("div",null,c.default.createElement("button",{className:"btn btn-primary",onClick:function(){return n({answer:e.state.answer})}},a._t("BasicMathLogin.FINISH","Finish")),o)):c.default.createElement("div",{className:"mfa-loader"},c.default.createElement(d.default,null))}}]),t}(s.Component);t.default=f},"./client/src/components/BasicMath/Register.js":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={secret:""},n.handleChange=n.handleChange.bind(n),n}return i(t,e),a(t,[{key:"handleChange",value:function(e){this.setState({secret:e.target.value})}},{key:"render",value:function(){var e=this,t=this.props.onCompleteRegistration,n=window,o=n.ss.i18n;return s.default.createElement("div",{className:"mfa-register-backup-codes__container"},s.default.createElement("label",{htmlFor:"secret"},"Enter a secret number:"),s.default.createElement("input",{id:"secret",type:"text",value:this.state.secret,onChange:this.handleChange}),s.default.createElement("button",{className:"btn btn-primary",onClick:function(){return t({number:e.state.secret})}},o._t("MFABackupCodesRegister.FINISH","Finish")))}}]),t}(l.Component);t.default=c},"./client/src/components/FormField/RegisteredMFAMethodListField/AccountResetUI.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),c=o(s),u=n(0),d=o(u),f=n("./client/src/components/LoadingIndicator.js"),p=o(f),h=n("./client/lang/src/en.json"),m=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={complete:!1,failed:!1,submitting:!1},n.onSendReset=n.onSendReset.bind(n),n}return a(t,e),l(t,[{key:"onSendReset",value:function(){var e=this;this.setState({submitting:!0}),fetch(this.props.resetEndpoint,{method:"POST"}).then(function(e){return e.json()}).then(function(t){var n=!!t.error;e.setState({complete:!0,failure:n,submitting:!1})}).catch(function(){e.setState({complete:!0,failure:!0,submitting:!1})})}},{key:"render",value:function(){var e=window,t=e.ss.i18n,n=this.state,o=n.complete,r=n.failure,i=n.submitting;return d.default.createElement("div",{className:"account-reset-ui"},d.default.createElement("h5",null,t._t("MultiFactorAuthentication.ACCOUNT_RESET_TITLE",h["MultiFactorAuthentication.ACCOUNT_RESET_TITLE"])),d.default.createElement("p",null,t._t("MultiFactorAuthentication.ACCOUNT_RESET_DESCRIPTION",h["MultiFactorAuthentication.ACCOUNT_RESET_DESCRIPTION"])),d.default.createElement("p",null,!i&&!o&&d.default.createElement("button",{className:"btn btn-outline-secondary",disabled:!this.props.resetEndpoint,onClick:this.onSendReset},t._t("MultiFactorAuthentication.ACCOUNT_RESET_ACTION",h["MultiFactorAuthentication.ACCOUNT_RESET_ACTION"])),i&&d.default.createElement("span",{style:{display:"flex",alignItems:"center"}},d.default.createElement(p.default,{size:"3em"}),"Â ",t._t("MultiFactorAuthentication.ACCOUNT_RESET_SENDING",h["MultiFactorAuthentication.ACCOUNT_RESET_SENDING"])),o&&r&&d.default.createElement("span",null,t._t("MultiFactorAuthentication.ACCOUNT_RESET_SENDING",h["MultiFactorAuthentication.ACCOUNT_RESET_SENDING_FAILURE"])),o&&!r&&d.default.createElement("span",null,t._t("MultiFactorAuthentication.ACCOUNT_RESET_SENDING",h["MultiFactorAuthentication.ACCOUNT_RESET_SENDING_SUCCESS"]))))}}]),t}(u.Component);m.propTypes={resetEndpoint:c.default.string},t.default=m},"./client/src/components/FormField/RegisteredMFAMethodListField/MethodListItem.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n("./client/lang/src/en.json"),a=function(e){var t=e.method,n=e.suffix,o=void 0===n?"":n,a=window,l=a.ss.i18n;return r.default.createElement("li",null,t.name,o.length>0&&" "+o,":Â ",r.default.createElement("b",null,l._t("MultiFactorAuthentication.REGISTERED",i["MultiFactorAuthentication.REGISTERED"])))};t.default=a},"./client/src/components/FormField/RegisteredMFAMethodListField/RegisteredMFAMethodListField.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),c=o(s),u=n(0),d=o(u),f=n(6),p=n(2),h=n(7),m=n(3),_=n("./client/src/types/registeredMethod.js"),E=o(_),b=n("./client/src/components/FormField/RegisteredMFAMethodListField/AccountResetUI.js"),y=o(b),g=n("./client/src/components/FormField/RegisteredMFAMethodListField/MethodListItem.js"),v=o(g),M=n("./client/src/state/mfaRegister/actions.js"),C=n("./client/src/components/Register.js"),T=n("./client/src/components/Register/Title.js"),A=o(T),O=n("./client/lang/src/en.json"),R=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={modalOpen:!1},e.onUpdateAvailableMethods(e.availableMethods),n.handleToggleModal=n.handleToggleModal.bind(n),n}return a(t,e),l(t,[{key:"getAddMethodButtonLabel",value:function(){var e=window,t=e.ss.i18n;return this.props.registeredMethods.length?t._t("MultiFactorAuthentication.ADD_ANOTHER_METHOD",O["MultiFactorAuthentication.ADD_ANOTHER_METHOD"]):t._t("MultiFactorAuthentication.ADD_FIRST_METHOD",O["MultiFactorAuthentication.ADD_FIRST_METHOD"])}},{key:"handleToggleModal",value:function(){var e=this.state.modalOpen;this.setState({modalOpen:!e}),e||this.props.onResetRegister()}},{key:"baseMethods",value:function(){var e=this.props,t=e.backupMethod,n=e.defaultMethod,o=this.props.registeredMethods;return t&&(o=o.filter(function(e){return e.urlSegment!==t.urlSegment})),n&&(o=o.filter(function(e){return e.urlSegment!==n.urlSegment})),o}},{key:"renderBaseMethods",value:function(){return this.baseMethods().map(function(e){return d.default.createElement(v.default,{method:e,key:e.name})})}},{key:"renderModal",value:function(){var e=this.props,t=e.backupMethod,n=e.endpoints,o=e.registeredMethods,r=e.resources,i=e.RegisterComponent;return d.default.createElement(f.Modal,{isOpen:this.state.modalOpen,toggle:this.handleToggleModal},d.default.createElement(f.ModalHeader,{toggle:this.handleToggleModal},d.default.createElement(A.default,{Tag:null})),d.default.createElement(f.ModalBody,null,d.default.createElement(i,{backupMethod:t,registeredMethods:o,onCompleteRegistration:this.handleToggleModal,resources:r,endpoints:n,showTitle:!1,showSubTitle:!1})))}},{key:"render",value:function(){var e=window,t=e.ss.i18n,n=this.props,o=n.availableMethods,r=n.defaultMethod,i=n.readOnly,a=n.resetEndpoint,l=t._t("MultiFactorAuthentication.NO_METHODS_REGISTERED",O["MultiFactorAuthentication.NO_METHODS_REGISTERED"]),s=t._t("MultiFactorAuthentication.DEFAULT",O["MultiFactorAuthentication.DEFAULT"]);return d.default.createElement("div",{className:"registered-mfa-method-list-field registered-mfa-method-list-field--read-only"},d.default.createElement("ul",{className:"method-list"},!r&&this.baseMethods().length<1&&d.default.createElement("li",null,l),r&&d.default.createElement(v.default,{method:r,suffix:"("+s+")"}),this.renderBaseMethods(),d.default.createElement("hr",null),i&&d.default.createElement(y.default,{resetEndpoint:a})),o.length>0&&d.default.createElement(f.Button,{className:"registered-mfa-method-list-field__button",outline:!0,onClick:this.handleToggleModal},this.getAddMethodButtonLabel()),this.renderModal())}}]),t}(u.Component);R.propTypes={backupMethod:E.default,defaultMethod:E.default,readOnly:c.default.bool,availableMethods:c.default.arrayOf(E.default),registeredMethods:c.default.arrayOf(E.default).isRequired,resetEndpoint:c.default.string,RegisterComponent:c.default.oneOfType([c.default.element,c.default.func])},R.defaultProps={availableMethods:[]};var w=function(e){return{onResetRegister:function(){e((0,M.chooseMethod)(null)),e((0,M.showScreen)(C.SCREEN_CHOOSE_METHOD))},onUpdateAvailableMethods:function(t){e((0,M.setAvailableMethods)(t))}}};t.Component=R,t.default=(0,h.compose)((0,p.inject)(["MFARegister"],function(e){return{RegisterComponent:e}},function(){return"RegisteredMFAMethodListField"}),(0,m.connect)(null,w))(R)},"./client/src/components/LoadingIndicator.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(e){var t=e.size,n=void 0===t?"6em":t;return r.default.createElement("div",{style:{width:n,height:n},className:"mfa__loader"})}},"./client/src/components/Register.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.SCREEN_COMPLETE=t.SCREEN_CHOOSE_METHOD=t.SCREEN_REGISTER_METHOD=t.SCREEN_INTRODUCTION=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(0),u=o(c),d=n(1),f=o(d),p=n(2),h=n("./client/src/types/availableMethod.js"),m=o(h),_=n("./client/src/types/registeredMethod.js"),E=o(_),b=n("./client/src/components/LoadingIndicator.js"),y=o(b),g=n("./client/src/components/Register/Introduction.js"),v=o(g),M=n("./client/src/components/Register/Complete.js"),C=o(M),T=n("./client/src/components/Register/SelectMethod.js"),A=o(T),O=n(3),R=n("./client/src/state/mfaRegister/actions.js"),w=n("./client/src/components/Register/Title.js"),S=o(w);t.SCREEN_INTRODUCTION=1,t.SCREEN_REGISTER_METHOD=2,t.SCREEN_CHOOSE_METHOD=3,t.SCREEN_COMPLETE=4;var k=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={registerProps:null},n.handleBack=n.handleBack.bind(n),n.handleCompleteRegistration=n.handleCompleteRegistration.bind(n),n.handleSkip=n.handleSkip.bind(n),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.selectedMethod&&this.fetchStartRegistrationData()}},{key:"componentDidUpdate",value:function(e){var t=this.props.selectedMethod;t&&JSON.stringify(t)!==JSON.stringify(e.selectedMethod)&&this.fetchStartRegistrationData()}},{key:"setupBackupMethod",value:function(){var e=this.props,t=e.backupMethod,n=e.selectedMethod,o=e.onShowComplete,r=e.onSelectMethod;if(this.shouldSetupBackupMethod()&&n.urlSegment!==t.urlSegment)return void r(t);o()}},{key:"fetchStartRegistrationData",value:function(){var e=this,t=this.props,n=t.endpoints.register,o=t.selectedMethod,r=n.replace("{urlSegment}",o.urlSegment);fetch(r).then(function(t){return t.json().then(function(t){e.setState(function(){return{registerProps:t}})})})}},{key:"handleBack",value:function(){this.clearRegistrationErrors(),this.props.onShowChooseMethod()}},{key:"handleCompleteRegistration",value:function(e){var t=this,n=this.props,o=n.endpoints.register,r=n.selectedMethod;fetch(o.replace("{urlSegment}",r.urlSegment),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){switch(e.status){case 201:return t.setState({registerProps:null}),t.setupBackupMethod(),null}return e.json()}).then(function(e){if(e&&e.errors){var n=e.errors.join(", ");t.setState({registerProps:l({},t.state.registerProps,{error:n})})}})}},{key:"shouldSetupBackupMethod",value:function(){var e=this.props,t=e.backupMethod,n=e.registeredMethods;return!!t&&!n.find(function(e){return e.urlSegment===t.urlSegment})}},{key:"clearRegistrationErrors",value:function(){this.setState({registerProps:l({},this.state.registerProps,{error:null})})}},{key:"handleSkip",value:function(){this.props.endpoints.skip&&(window.location=this.props.endpoints.skip)}},{key:"renderIntroduction",value:function(){var e=this.props,t=e.canSkip,n=e.resources,o=e.endpoints.skip,r=e.showSubTitle;return u.default.createElement(v.default,{canSkip:o&&t,onSkip:this.handleSkip,resources:n,showTitle:r})}},{key:"renderMethod",value:function(){var e=this.props,t=e.selectedMethod,n=e.showSubTitle,o=this.state.registerProps;if(!t)return null;if(!o)return u.default.createElement("div",{className:"mfa-loader"},u.default.createElement(y.default,null));var r=(0,p.loadComponent)(t.component);return u.default.createElement("div",null,n&&u.default.createElement(S.default,null),u.default.createElement(r,l({},o,{method:t,onBack:this.handleBack,onCompleteRegistration:this.handleCompleteRegistration})))}},{key:"renderOptions",value:function(){var e=this.props,t=e.availableMethods,n=e.showSubTitle;return u.default.createElement(A.default,{methods:t,showTitle:n})}},{key:"render",value:function(){var e=this.props,t=e.screen,n=e.onCompleteRegistration,o=e.showTitle,r=e.showSubTitle,i=window,a=i.ss.i18n;if(4===t)return u.default.createElement(C.default,{showTitle:r,onComplete:n});var l=void 0;switch(t){default:case 1:l=this.renderIntroduction();break;case 3:l=this.renderOptions();break;case 2:l=this.renderMethod()}return u.default.createElement("div",null,o&&u.default.createElement("h1",{className:"mfa-app-title"},a._t("MFARegister.TITLE","Multi-factor authentication")),l)}}]),t}(c.Component);k.propTypes={availableMethods:f.default.arrayOf(m.default),backupMethod:m.default,canSkip:f.default.bool,endpoints:f.default.shape({register:f.default.string.isRequired,skip:f.default.string}),onCompleteRegistration:f.default.func.isRequired,registeredMethods:f.default.arrayOf(E.default),resources:f.default.object,showTitle:f.default.bool,showSubTitle:f.default.bool},k.defaultProps={resources:{},showTitle:!0,showSubTitle:!0};var j=function(e){var t=e.mfaRegister||e;return{screen:t.screen,selectedMethod:t.method,availableMethods:t.availableMethods}},N=function(e){return{onShowComplete:function(){return e((0,R.showScreen)(4))},onSelectMethod:function(t){return e((0,R.chooseMethod)(t))},onShowChooseMethod:function(){return e((0,R.showScreen)(3))}}};t.Component=k,t.default=(0,O.connect)(j,N)(k)},"./client/src/components/Register/Complete.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=o(r),a=n(1),l=o(a),s=n("./client/src/components/Register/Title.js"),c=o(s),u=function(e){var t=e.onComplete,n=e.showTitle;return i.default.createElement("div",{className:"mfa-register-confirmation"},i.default.createElement("i",{className:"font-icon-check-mark mfa-register-confirmation__icon"}),n&&i.default.createElement(c.default,{className:"mfa-register-confirmation__title"}),i.default.createElement("p",{className:"mfa-register-confirmation__description"},window.ss.i18n._t("MFARegister.SETUP_COMPLETE_DESCRIPTION","You can edit these settings from your profile area in the menu.")),i.default.createElement("button",{onClick:t,className:"mfa-register-confirmation__continue btn btn-primary"},window.ss.i18n._t("MFARegister.SETUP_COMPLETE_CONTINUE","Continue")))};u.propTypes={onComplete:l.default.func.isRequired,showTitle:l.default.bool},u.defaultProps={showTitle:!0},t.default=u},"./client/src/components/Register/Introduction.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.ActionList=void 0;var r=n(0),i=o(r),a=n(1),l=o(a),s=n("./client/src/state/mfaRegister/actions.js"),c=n("./client/src/components/Register.js"),u=n(3),d=n("./client/src/components/Register/Title.js"),f=o(d),p=n("./client/lang/src/en.json"),h=t.ActionList=function(e){var t=e.canSkip,n=e.onContinue,o=e.onSkip,r=window,a=r.ss.i18n;return i.default.createElement("ul",{className:"mfa-action-list"},i.default.createElement("li",{className:"mfa-action-list__item"},i.default.createElement("button",{className:"btn btn-primary",onClick:n},a._t("MultiFactorAuthentication.GET_STARTED",p["MultiFactorAuthentication.GET_STARTED"]))),t&&i.default.createElement("li",{className:"mfa-action-list__item"},i.default.createElement("button",{className:"btn btn-secondary",onClick:o},a._t("MultiFactorAuthentication.SETUP_LATER",p["MultiFactorAuthentication.SETUP_LATER"]))))},m=function(e){var t=e.canSkip,n=e.onContinue,o=e.onSkip,r=e.resources,a=e.showTitle,l=window,s=l.ss.i18n;return i.default.createElement("div",null,a&&i.default.createElement(f.default,null),i.default.createElement("h4",{className:"mfa-feature-list-title"},s._t("MultiFactorAuthentication.HOW_IT_WORKS",p["MultiFactorAuthentication.HOW_IT_WORKS"])),i.default.createElement("ul",{className:"mfa-feature-list"},i.default.createElement("li",{className:"mfa-feature-list-item"},r.extra_factor_image_url&&i.default.createElement("img",{alt:s._t("MultiFactorAuthentication.EXTRA_LAYER_IMAGE_ALT",p["MultiFactorAuthentication.EXTRA_LAYER_IMAGE_ALT"]),"aria-hidden":"true",className:"mfa-feature-list-item__icon",src:r.extra_factor_image_url}),i.default.createElement("div",null,i.default.createElement("h5",{className:"mfa-block-heading mfa-feature-list-item__title"},s._t("MultiFactorAuthentication.EXTRA_LAYER_TITLE",p["MultiFactorAuthentication.EXTRA_LAYER_TITLE"])),i.default.createElement("p",{className:"mfa-feature-list-item__description"},s._t("MultiFactorAuthentication.EXTRA_LAYER_DESCRIPTION",p["MultiFactorAuthentication.EXTRA_LAYER_DESCRIPTION"]),"Â ",r.user_docs_url&&i.default.createElement("a",{href:r.user_docs_url},s._t("MultiFactorAuthentication.FIND_OUT_MORE",p["MultiFactorAuthentication.FIND_OUT_MORE"]))))),i.default.createElement("li",{className:"mfa-feature-list-item"},r.unique_image_url&&i.default.createElement("img",{alt:s._t("MultiFactorAuthentication.UNIQUE_IMAGE_ALT",p["MultiFactorAuthentication.UNIQUE_IMAGE_ALT"]),"aria-hidden":"true",className:"mfa-feature-list-item__icon",src:r.unique_image_url}),i.default.createElement("div",null,i.default.createElement("h5",{className:"mfa-block-heading mfa-feature-list-item__title"},s._t("MultiFactorAuthentication.UNIQUE_TITLE",p["MultiFactorAuthentication.UNIQUE_TITLE"])),i.default.createElement("p",{className:"mfa-feature-list-item__description"},s._t("MultiFactorAuthentication.UNIQUE_DESCRIPTION",p["MultiFactorAuthentication.UNIQUE_DESCRIPTION"]))))),i.default.createElement(h,{canSkip:t,onContinue:n,onSkip:o}))};m.propTypes={canSkip:l.default.bool,onContinue:l.default.func.isRequired,onSkip:l.default.func,resources:l.default.shape({user_docs_url:l.default.string,extra_factor_image_url:l.default.string,unique_image_url:l.default.string}).isRequired,showTitle:l.default.bool},m.defaultProps={showTitle:!0},t.Component=m;var _=function(e){return{onContinue:function(){return e((0,s.showScreen)(c.SCREEN_REGISTER_METHOD))}}};t.default=(0,u.connect)(null,_)(m)},"./client/src/components/Register/MethodTile.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),c=o(s),u=n(1),d=o(u),f=n(4),p=o(f),h=n("./client/src/types/availableMethod.js"),m=o(h),_=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.handleKeyUp=n.handleKeyUp.bind(n),n}return a(t,e),l(t,[{key:"handleClick",value:function(e){var t=this.props,n=t.method.isAvailable,o=t.onClick;n&&o&&o(e)}},{key:"handleKeyUp",value:function(e){13===e.keyCode&&this.handleClick(e)}},{key:"renderSupportLink",value:function(e){var t=window,n=t.ss.i18n;return e.supportLink?c.default.createElement("a",{href:e.supportLink,target:"_blank",rel:"noopener noreferrer",className:"mfa-method-tile__support-link"},n._t("MFARegister.HELP","Find out more.")):null}},{key:"renderUnavailableMask",value:function(){var e=this.props.method,t=e.isAvailable,n=e.unavailableMessage,o=window,r=o.ss.i18n;return t?null:c.default.createElement("div",{className:"mfa-method-tile__unavailable-mask"},c.default.createElement("h3",{className:"mfa-method-tile__unavailable-title"},r._t("MFAMethodTile.UNAVAILABLE","Unsupported")),n&&c.default.createElement("p",{className:"mfa-method-tile__unavailable-text"},n))}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.method,o=(0,p.default)("mfa-method-tile",{"mfa-method-tile--active":t});return c.default.createElement("li",{className:o},this.renderUnavailableMask(),c.default.createElement("div",{className:"mfa-method-tile__content",onClick:this.handleClick,onKeyUp:this.handleKeyUp,tabIndex:"0",role:"button"},n.thumbnail&&c.default.createElement("div",{className:"mfa-method-tile__thumbnail-container"},c.default.createElement("img",{src:n.thumbnail,className:"mfa-method-tile__thumbnail",alt:n.name})),c.default.createElement("h3",{className:"mfa-method-tile__title"},n.name),c.default.createElement("p",{className:"mfa-method-tile__description"},n.description&&n.description+". ",this.renderSupportLink(n))))}}]),t}(s.Component);_.propTypes={isActive:d.default.bool,method:m.default.isRequired,onClick:d.default.func.isRequired},_.defaultProps={isActive:!1},t.default=_},"./client/src/components/Register/SelectMethod.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),c=o(s),u=n(1),d=o(u),f=n("./client/src/components/Register/MethodTile.js"),p=o(f),h=n("./client/src/types/availableMethod.js"),m=o(h),_=n(4),E=o(_),b=n("./client/src/components/Register.js"),y=n("./client/src/state/mfaRegister/actions.js"),g=n(3),v=n("./client/src/components/Register/Title.js"),M=o(v),C=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={highlightedMethod:null},n.handleGoToNext=n.handleGoToNext.bind(n),n.handleBack=n.handleBack.bind(n),n}return a(t,e),l(t,[{key:"handleGoToNext",value:function(){var e=this.state.highlightedMethod;this.props.onSelectMethod(e)}},{key:"handleClick",value:function(e){this.setState({highlightedMethod:e})}},{key:"handleBack",value:function(){this.props.onClickBack&&this.props.onClickBack()}},{key:"renderActions",value:function(){var e=window,t=e.ss.i18n,n=this.state.highlightedMethod;return c.default.createElement("ul",{className:"mfa-action-list"},c.default.createElement("li",{className:"mfa-action-list__item"},c.default.createElement("button",{className:"btn btn-success",disabled:null===n,onClick:this.handleGoToNext},t._t("MFARegister.NEXT","Next"))),c.default.createElement("li",{className:"mfa-action-list__item"},c.default.createElement("button",{className:"btn btn-secondary",onClick:this.handleBack},t._t("MFARegister.BACK","Back"))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.methods,o=t.showTitle,r=this.state.highlightedMethod,i=(0,E.default)("mfa-method-tile__container",{"mfa-method-tile__container--two-columns":n.length%2==0});return c.default.createElement("div",null,o&&c.default.createElement(M.default,null),c.default.createElement("ul",{className:i},n.map(function(t){return c.default.createElement(p.default,{isActive:r===t,key:t.urlSegment,method:t,onClick:function(){return e.handleClick(t)}})})),this.renderActions())}}]),t}(s.Component);C.propTypes={methods:d.default.arrayOf(m.default),onSelectMethod:d.default.func,onClickBack:d.default.func,showTitle:d.default.bool},C.defaultProps={showTitle:!0};var T=function(e){return{onClickBack:function(){return e((0,y.showScreen)(b.SCREEN_INTRODUCTION))},onSelectMethod:function(t){e((0,y.chooseMethod)(t)),e((0,y.showScreen)(b.SCREEN_REGISTER_METHOD))}}};t.Component=C,t.default=(0,g.connect)(null,T)(C)},"./client/src/components/Register/Title.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var o=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n("./client/src/components/Register.js"),a=n(3),l=n("./client/lang/src/en.json"),s=function(e){var t=e.screen,n=e.method,o=e.Tag,a=void 0===o?"h2":o,s=e.className,c=void 0===s?"mfa-section-title":s,u=window,d=u.ss.i18n,f=void 0;switch(t){case i.SCREEN_INTRODUCTION:f=d._t("MultiFactorAuthentication.TITLE",l["MultiFactorAuthentication.TITLE"]);break;case i.SCREEN_CHOOSE_METHOD:f=d._t("MultiFactorAuthentication.SELECT_METHOD",l["MultiFactorAuthentication.SELECT_METHOD"]);break;case i.SCREEN_COMPLETE:f=d._t("MultiFactorAuthentication.SETUP_COMPLETE_TITLE",l["MultiFactorAuthentication.SETUP_COMPLETE_TITLE"]);break;case i.SCREEN_REGISTER_METHOD:f=n&&n.name;break;default:f=!1}return f&&f.length?a?r.default.createElement(a,{className:c},f):f:null};t.Component=s;var c=function(e){var t=e.mfaRegister||e;return{screen:t.screen,method:t.method}};t.default=(0,a.connect)(c)(s)},"./client/src/legacy/RegisteredMFAMethodListFieldEntwine.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(0),i=o(r),a=n(5),l=o(a),s=n(2);window.jQuery.entwine("ss",function(e){e('.js-injector-boot [data-field-type="registered-mfa-method-list-field"]').entwine({onmatch:function(){var e=(0,s.loadComponent)("RegisteredMFAMethodListField"),t=this.data("schema"),n=t.readOnly,o=t.schema,r=o.backupMethod,a=o.defaultMethod,c=o.registeredMethods,u=o.availableMethods,d=o.resources,f=o.endpoints,p=o.resetEndpoint;l.default.render(i.default.createElement(e,{backupMethod:r,defaultMethod:a,readOnly:n,registeredMethods:c,availableMethods:u,resources:d,endpoints:f,resetEndpoint:p}),this[0])}})})},"./client/src/legacy/SiteConfig.js":function(e,t,n){"use strict";var o="mfa-settings--hidden";window.jQuery.entwine("ss",function(e){e('[name="MFAEnabled"]').entwine({onchange:function(){e('[name="MFARequired"]').trigger("change"),this.is(":checked")?e(".mfa-settings__required").removeClass(o):(e(".mfa-settings__required").addClass(o),e(".mfa-settings__grace-period").addClass(o))},onmatch:function(){this.trigger("change")}}),e('[name="MFARequired"]').entwine({onchange:function(){this.is(":checked")&&(parseInt(this.val(),10)?e(".mfa-settings__grace-period").removeClass(o):e(".mfa-settings__grace-period").addClass(o))},onmatch:function(){this.trigger("change")}})})},"./client/src/legacy/index.js":function(e,t,n){"use strict";n("./client/src/legacy/RegisteredMFAMethodListFieldEntwine.js"),n("./client/src/legacy/SiteConfig.js")},"./client/src/lib/formatCode.js":function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";if(e.length<6)return e;if(e.length%4==0)return e.split(/(.{4})/g).filter(function(e){return e}).join(t).trim();if(e.length%3==0)return e.split(/(.{3})/g).filter(function(e){return e}).join(t).trim();var n=4-e.length%4,r=(e.length-3*n)/4,i=[].concat(o([].concat(o(Array(r).keys())).map(function(){return 4})),o([].concat(o(Array(n).keys())).map(function(){return 3}))),a=0;return i.map(function(t){return e.substring(a,a+=t)}).join(t).trim()};t.formatCode=r},"./client/src/state/mfaRegister/actionTypes.js":function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ADD_AVAILABLE_METHOD","REMOVE_AVAILABLE_METHOD","SET_AVAILABLE_METHODS","SET_SCREEN","SET_METHOD"].reduce(function(e,t){return Object.assign(e,o({},t,"MFA_REGISTER."+t))},{})},"./client/src/state/mfaRegister/actions.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeAvailableMethod=t.addAvailableMethod=t.setAvailableMethods=t.chooseMethod=t.showScreen=void 0;var o=n("./client/src/state/mfaRegister/actionTypes.js"),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.showScreen=function(e){return{type:r.default.SET_SCREEN,payload:{screen:e}}},t.chooseMethod=function(e){return{type:r.default.SET_METHOD,payload:{method:e}}},t.setAvailableMethods=function(e){return{type:r.default.SET_AVAILABLE_METHODS,payload:{availableMethods:e}}},t.addAvailableMethod=function(e){return{type:r.default.ADD_AVAILABLE_METHOD,payload:{method:e}}},t.removeAvailableMethod=function(e){return{type:r.default.REMOVE_AVAILABLE_METHOD,payload:{method:e}}}},"./client/src/state/mfaRegister/reducer.js":function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case l.default.SET_SCREEN:var a=r.screen;return null===e.method&&a===s.SCREEN_REGISTER_METHOD?i({},e,{screen:s.SCREEN_CHOOSE_METHOD}):i({},e,{screen:a});case l.default.SET_METHOD:return i({},e,{method:r.method});case l.default.SET_AVAILABLE_METHODS:return i({},e,{availableMethods:r.availableMethods});case l.default.ADD_AVAILABLE_METHOD:return i({},e,{availableMethods:[].concat(o(e.availableMethods),[r.method])});case l.default.REMOVE_AVAILABLE_METHOD:return i({},e,{availableMethods:e.availableMethods.filter(function(e){return e.urlSegment!==r.method.urlSegment})});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=r;var a=n("./client/src/state/mfaRegister/actionTypes.js"),l=function(e){return e&&e.__esModule?e:{default:e}}(a),s=n("./client/src/components/Register.js"),c={screen:s.SCREEN_INTRODUCTION,method:null,availableMethods:[]}},"./client/src/types/availableMethod.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=r.default.shape({urlSegment:r.default.string,name:r.default.string,description:r.default.string,supportLink:r.default.string,thumbnail:r.default.string,component:r.default.string,isAvailable:r.default.bool,unavailableMessage:r.default.string})},"./client/src/types/registeredMethod.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=r.default.shape({name:r.default.string,urlSegment:r.default.string,leadInLabel:r.default.string,component:r.default.string})},"./node_modules/copy-to-clipboard/index.js":function(e,t,n){"use strict";function o(e){var t=(/mac os x/i.test(navigator.userAgent)?"â":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function r(e,t){var n,r,l,s,c,u,d=!1;t||(t={}),n=t.debug||!1;try{if(l=i(),s=document.createRange(),c=document.getSelection(),u=document.createElement("span"),u.textContent=e,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",document.body.appendChild(u),s.selectNode(u),c.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");d=!0}catch(i){n&&console.error("unable to copy using execCommand: ",i),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData("text",e),d=!0}catch(i){n&&console.error("unable to copy using clipboardData: ",i),n&&console.error("falling back to prompt"),r=o("message"in t?t.message:a),window.prompt(r,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(s):c.removeAllRanges()),u&&document.body.removeChild(u),l()}return d}var i=n("./node_modules/toggle-selection/index.js"),a="Copy to clipboard: #{key}, Enter";e.exports=r},"./node_modules/printd/index.js":function(e,t,n){"use strict";function o(e,t){var n=e.createElement("style");return n.type="text/css",n.appendChild(window.document.createTextNode(t)),n}function r(e,t){var n=e.createElement("link");return n.type="text/css",n.rel="stylesheet",n.href=t,n}function i(e){void 0===e&&(e=window.document.body);var t=window.document.createElement("iframe");return t.setAttribute("src","about:blank"),t.setAttribute("style","visibility:hidden;width:0;height:0;position:absolute;z-index:-9999;bottom:0;"),t.setAttribute("width","0"),t.setAttribute("height","0"),t.setAttribute("wmode","opaque"),e.appendChild(t),t}Object.defineProperty(t,"__esModule",{value:!0});var a=/^(((http[s]?)|file):)?(\/\/)+([0-9a-zA-Z-_.=?&].+)$/g,l=/^([\.]?\/)([0-9a-zA-Z-_.=?&]+\/)*([0-9a-zA-Z-_.=?&]+)$/g,s=function(e){return a.test(e)||l.test(e)};t.createStyle=o,t.createLinkStyle=r,t.createIFrame=i;var c=function(){function e(e){void 0===e&&(e=window.document.body);var t=this;this.parent=e,this.loading=!1,this.iframe=i(this.parent),this.iframe.addEventListener("load",function(){return t.loadEvent()},!1)}return e.prototype.getIFrame=function(){return this.iframe},e.prototype.print=function(e,t,n,i){if(!this.loading){var a=this.iframe,l=a.contentDocument,c=a.contentWindow;if(l&&c&&(this.iframe.src="about:blank",this.elCopy=e.cloneNode(!0),this.elCopy)){this.loading=!0,this.callback=i;var u=c.document;u.open(),u.write('\n      <!DOCTYPE html><html><head><meta charset="utf-8"></head><body></body></html>\n    '),Array.isArray(t)&&t.forEach(function(e){e&&(s(e)?u.head.appendChild(r(u,e)):u.head.appendChild(o(u,e)))}),u.body.appendChild(this.elCopy),Array.isArray(n)&&n.forEach(function(e){if(e){var t=u.createElement("script");s(e)?t.src=e:t.innerText=e,u.body.appendChild(t)}}),u.close()}}},e.prototype.printURL=function(e,t){this.loading||(this.loading=!0,this.callback=t,this.iframe.src=e)},e.prototype.launchPrint=function(e){e.document.execCommand("print",!1,null)||e.print()},e.prototype.loadEvent=function(){var e=this;if(this.iframe){this.loading=!1;var t=this.iframe,n=t.contentDocument,o=t.contentWindow;if(!n||!o)return;this.callback?this.callback({iframe:this.iframe,element:this.elCopy,launchPrint:function(){return e.launchPrint(o)}}):this.launchPrint(o)}},e}();t.Printd=c,t.default=c},"./node_modules/react-copy-to-clipboard/lib/Component.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),d=o(u),f=n("./node_modules/copy-to-clipboard/index.js"),p=o(f);(t.CopyToClipboard=function(e){function t(){var e,n,o,r;i(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.onClick=function(e){var t=o.props,n=t.text,r=t.onCopy,i=t.children,a=t.options,l=d.default.Children.only(i),s=(0,p.default)(n,a);r&&r(n,s),l&&l.props&&"function"==typeof l.props.onClick&&l.props.onClick(e)},r=n,a(o,r)}return l(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=r(e,["text","onCopy","options","children"]),o=d.default.Children.only(t);return d.default.cloneElement(o,s({},n,{onClick:this.onClick}))}}]),t}(d.default.PureComponent)).defaultProps={onCopy:void 0,options:void 0}},"./node_modules/react-copy-to-clipboard/lib/index.js":function(e,t,n){"use strict";var o=n("./node_modules/react-copy-to-clipboard/lib/Component.js"),r=o.CopyToClipboard;r.CopyToClipboard=r,e.exports=r},"./node_modules/toggle-selection/index.js":function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},0:function(e,t){e.exports=React},1:function(e,t){e.exports=PropTypes},2:function(e,t){e.exports=Injector},3:function(e,t){e.exports=ReactRedux},4:function(e,t){e.exports=classnames},5:function(e,t){e.exports=ReactDom},6:function(e,t){e.exports=Reactstrap},7:function(e,t){e.exports=Redux}});